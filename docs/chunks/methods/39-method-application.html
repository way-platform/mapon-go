<div id="method-application" class="api-method-group"><h1>Application</h1><div id="method-application-Authenticate-user-by-token-for-iframe" class="api-method"><h2>Authenticate user by token for iframe</h2><div class="call-url"><code>POST</code> <span class="domain">https://mapon.com/api/v1/</span><span class="uri">application/user_auth_by_token.json</span></div><ul class="nav nav-tabs"><li class="active"><a href="javascript:" data-target="description">Description</a></li><li><a href="javascript:" data-target="parameters">Parameters</a></li><li><a href="javascript:" data-target="response">Response</a></li><li><a href="javascript:" data-target="errors">Error codes</a></li></ul><div class="tab description">Authenticate user with provided token. In return you will receive user object and api_key which you can use to get in depth user data.</div><div class="tab parameters hidden"><div class="param-block"><div class="item"><div class="cols"><div class="name">key <span class="required" title="Required">*</span></div><div class="format">string</div><div class="description">Application API Key</div></div></div><div class="item"><div class="cols"><div class="name">user_token <span class="required" title="Required">*</span></div><div class="format">string</div><div class="description">Received user_token from initial application url load from GET parameter</div></div></div></div></div><div class="tab response hidden"><div class="param-block"><pre>{
    &#34;data&#34;: {
        &#34;users&#34;: [
            {
                &#34;id&#34;: 1,
                &#34;company_id&#34;: 1,
                &#34;user_api_key&#34;: &#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;,
                &#34;email&#34;: &#34;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ff96919990bf9a879e928f939ad19c9092">[emailÂ protected]</a>&#34;,
                &#34;name&#34;: &#34;John&#34;,
                &#34;surname&#34;: &#34;Doe&#34;,
                &#34;timezone&#34;: &#34;UTC&#34;,
                &#34;language&#34;: &#34;en&#34;,
                &#34;phone&#34;: null,
                &#34;type&#34;: &#34;admin&#34;,
                &#34;distributor_id&#34;: 1,
                &#34;distributor_name&#34;: &#34;Distributor name&#34;,
                &#34;distributor_url&#34;: &#34;https:\/\/distributor_url.com&#34;,
                &#34;distributor_logo&#34;: &#34;https:\/\/distributor_url.com\/path_to_logo&#34;
            }
        ]
    }
}</pre></div></div><div class="tab errors hidden"><div class="param-block"><table><tbody><tr><th>Code</th><th>Description</th></tr><tr><td>1</td><td>Invalid <code>user_token</code> parameter</td></tr><tr><td>2</td><td>Company has not authorized this application</td></tr><tr><td>3</td><td>User not found</td></tr><tr><td>4</td><td>Too many requests</td></tr></tbody></table></div></div></div><div id="method-application-Authenticate-application-for-company" class="api-method"><h2>Authenticate application for company</h2><div class="call-url"><code>POST</code> <span class="domain">https://mapon.com/api/v1/</span><span class="uri">application/company_auth_by_token.json</span></div><ul class="nav nav-tabs"><li class="active"><a href="javascript:" data-target="description">Description</a></li><li><a href="javascript:" data-target="parameters">Parameters</a></li><li><a href="javascript:" data-target="response">Response</a></li><li><a href="javascript:" data-target="errors">Error codes</a></li></ul><div class="tab description">
                        <p>When system administrator from CRM enables application for specific company, there will be 
                        a <code>POST</code> request to 3rd party application&#39;s end point with field <code>company_token</code>.</p>
                         
                        <p>Application must call <code>application/company_auth_by_token</code> together with 
                        <code>company_token</code> to request <code>company_id</code> and <code>company_api_key</code> 
                        which can be stored in 3rd party applications side for later use.</p>
                                               
                        <p>End point for <code>company_token</code> is provided by 3rd party application&#39;s developer. In 
                        response to this request, we expect to get the following JSON response:</p> 
                        
                        <pre>{&#34;status&#34;:&#34;ok&#34;}</pre>
                        
                        <p>In case of an error, application will not be enabled for the company and system administrator can retry 
                        this process later.</p></div><div class="tab parameters hidden"><div class="param-block"><div class="item"><div class="cols"><div class="name">key <span class="required" title="Required">*</span></div><div class="format">string</div><div class="description">Application API Key</div></div></div><div class="item"><div class="cols"><div class="name">company_token <span class="required" title="Required">*</span></div><div class="format">string</div><div class="description">Received company_token</div></div></div></div></div><div class="tab response hidden"><div class="param-block"><pre>{
    &#34;data&#34;: {
        &#34;companies&#34;: [
            {
                &#34;company_id&#34;: &#34;1&#34;,
                &#34;company_api_key&#34;: &#34;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#34;
            }
        ]
    }
}</pre></div></div><div class="tab errors hidden"><div class="param-block"><table><tbody><tr><th>Code</th><th>Description</th></tr><tr><td>1</td><td>Invalid <code>company_token</code> parameter</td></tr><tr><td>2</td><td>Not found <code>company_token</code></td></tr></tbody></table></div></div></div></div>