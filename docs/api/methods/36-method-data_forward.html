<div id="method-data_forward" class="api-method-group"><h1>Data_forward</h1><div id="method-data_forward-List-endpoints" class="api-method"><h2>List endpoints</h2><div class="call-url"><code>GET</code> <span class="domain">https://mapon.com/api/v1/</span><span class="uri">data_forward/list.json</span></div><ul class="nav nav-tabs"><li class="active"><a href="javascript:" data-target="description">Description</a></li><li><a href="javascript:" data-target="parameters">Parameters</a></li><li><a href="javascript:" data-target="response">Response</a></li><li><a href="javascript:" data-target="errors">Error codes</a></li></ul><div class="tab description">List all active endpoints</div><div class="tab parameters hidden"><div class="param-block"><div class="item"><div class="cols"><div class="name">key <span class="required" title="Required">*</span></div><div class="format">string</div><div class="description">API Key</div></div></div></div></div><div class="tab response hidden"><div class="param-block"><pre>{
    &#34;data&#34;: {
        &#34;endpoints&#34;: [
            {
                &#34;id&#34;: 1,
                &#34;type&#34;: &#34;http&#34;,
                &#34;unit_ids&#34;: [
                    1,
                    2,
                    3
                ],
                &#34;data&#34;: {
                    &#34;url&#34;: &#34;http:\/\/example.com&#34;
                },
                &#34;packs&#34;: [
                    1
                ],
                &#34;created_at&#34;: &#34;2016-06-17T10:17:16Z&#34;,
                &#34;queue_length&#34;: 0,
                &#34;length_updated&#34;: &#34;2020-02-27T13:13:27Z&#34;,
                &#34;dl_queue_length&#34;: 0,
                &#34;dl_length_updated&#34;: &#34;2020-02-27T13:13:27Z&#34;
            }
        ]
    }
}</pre></div></div><div class="tab errors hidden"><div class="param-block"><table><tbody><tr><th>Code</th><th>Description</th></tr><tr><td>12</td><td>Api key does not have access to all units. All vehicles api key access required</td></tr></tbody></table></div></div></div><div id="method-data_forward-Insert/Update-endpoint" class="api-method"><h2>Insert/Update endpoint</h2><div class="call-url"><code>POST</code> <span class="domain">https://mapon.com/api/v1/</span><span class="uri">data_forward/save.json</span></div><ul class="nav nav-tabs"><li class="active"><a href="javascript:" data-target="description">Description</a></li><li><a href="javascript:" data-target="parameters">Parameters</a></li><li><a href="javascript:" data-target="response">Response</a></li><li><a href="javascript:" data-target="errors">Error codes</a></li></ul><div class="tab description">Create new endpoint or update an existing</div><div class="tab parameters hidden"><div class="param-block"><div class="item"><div class="cols"><div class="name">key <span class="required" title="Required">*</span></div><div class="format">string</div><div class="description">API Key</div></div></div><div class="item"><div class="cols"><div class="name">id </div><div class="format">int</div><div class="description">Endpoint id. If not empty, endpoint with this ID will be updated</div></div></div><div class="item"><div class="cols"><div class="name">data </div><div class="format">array</div><div class="description">Endpoint data [&#34;url&#34; =&gt; &#34;http://example.com&#34;]</div></div></div><div class="item"><div class="cols"><div class="name">unit_ids </div><div class="format">array</div><div class="description">Array of unit ids. If empty parameter all unit ids will apply and no events on empty array</div></div></div><div class="item"><div class="cols"><div class="name">packs </div><div class="format">array</div><div class="description">Array of data pack ids. <b>Data pack types can not be mixed within single endpoint scope.</b> For example: pack <a href="https://mapon.com/api/v1/../../api/push#pack-position">#1</a> is of type &#34;car&#34; 
            and pack <a href="https://mapon.com/api/v1/../../api/push#pack-company-update">#201</a> is of type &#34;company&#34;. They both can&#39;t be registered for same endpoint.</div></div></div></div></div><div class="tab response hidden"><div class="param-block"><pre>{
    &#34;data&#34;: {
        &#34;status&#34;: &#34;ok&#34;,
        &#34;id&#34;: 1
    }
}</pre></div></div><div class="tab errors hidden"><div class="param-block"><table><tbody><tr><th>Code</th><th>Description</th></tr><tr><td>1</td><td>Invalid <code>data</code> parameter</td></tr><tr><td>2</td><td>Invalid <code>packs</code> parameter</td></tr><tr><td>3</td><td>Invalid <code>packs</code> parameter. Mixing packs from different types in single endpoint is not allowed.</td></tr><tr><td>4</td><td>Invalid <code>unit_ids</code> parameter</td></tr><tr><td>5</td><td>Unit already added</td></tr><tr><td>6</td><td>Invalid <code>id</code> parameter</td></tr><tr><td>7</td><td>Invalid <code>unit_id</code> parameter</td></tr><tr><td>8</td><td>Endpoint not found</td></tr><tr><td>9</td><td>Error. Save failed</td></tr><tr><td>10</td><td>Invalid &#34;data&#34; parameter, &#34;url&#34; not specified</td></tr><tr><td>11</td><td>Invalid &#34;url&#34; specified. Please check if url corresponds to the RFC 2396</td></tr><tr><td>12</td><td>Api key does not have access to all units. All vehicles api key access required</td></tr></tbody></table></div></div></div><div id="method-data_forward-Add-single-unit-id-to-endpoint" class="api-method"><h2>Add single unit id to endpoint</h2><div class="call-url"><code>POST</code> <span class="domain">https://mapon.com/api/v1/</span><span class="uri">data_forward/add_unit.json</span></div><ul class="nav nav-tabs"><li class="active"><a href="javascript:" data-target="description">Description</a></li><li><a href="javascript:" data-target="parameters">Parameters</a></li><li><a href="javascript:" data-target="response">Response</a></li><li><a href="javascript:" data-target="errors">Error codes</a></li></ul><div class="tab description">Add single unit id to endpoint.</div><div class="tab parameters hidden"><div class="param-block"><div class="item"><div class="cols"><div class="name">key <span class="required" title="Required">*</span></div><div class="format">string</div><div class="description">API Key</div></div></div><div class="item"><div class="cols"><div class="name">id <span class="required" title="Required">*</span></div><div class="format">int</div><div class="description">Endpoint id</div></div></div><div class="item"><div class="cols"><div class="name">unit_id <span class="required" title="Required">*</span></div><div class="format">int</div><div class="description">Unit id</div></div></div></div></div><div class="tab response hidden"><div class="param-block"><pre>{
    &#34;data&#34;: {
        &#34;status&#34;: &#34;ok&#34;
    }
}</pre></div></div><div class="tab errors hidden"><div class="param-block"><table><tbody><tr><th>Code</th><th>Description</th></tr><tr><td>5</td><td>Unit already added</td></tr><tr><td>6</td><td>Invalid <code>id</code> parameter</td></tr><tr><td>7</td><td>Invalid <code>unit_id</code> parameter</td></tr><tr><td>8</td><td>Endpoint not found</td></tr><tr><td>9</td><td>Error. Save failed</td></tr><tr><td>12</td><td>Api key does not have access to all units. All vehicles api key access required</td></tr></tbody></table></div></div></div><div id="method-data_forward-Remove-single-unit-id-from-endpoint" class="api-method"><h2>Remove single unit id from endpoint</h2><div class="call-url"><code>POST</code> <span class="domain">https://mapon.com/api/v1/</span><span class="uri">data_forward/remove_unit.json</span></div><ul class="nav nav-tabs"><li class="active"><a href="javascript:" data-target="description">Description</a></li><li><a href="javascript:" data-target="parameters">Parameters</a></li><li><a href="javascript:" data-target="response">Response</a></li><li><a href="javascript:" data-target="errors">Error codes</a></li></ul><div class="tab description">Remove single unit id from endpoint.</div><div class="tab parameters hidden"><div class="param-block"><div class="item"><div class="cols"><div class="name">key <span class="required" title="Required">*</span></div><div class="format">string</div><div class="description">API Key</div></div></div><div class="item"><div class="cols"><div class="name">id <span class="required" title="Required">*</span></div><div class="format">int</div><div class="description">Endpoint id</div></div></div><div class="item"><div class="cols"><div class="name">unit_id <span class="required" title="Required">*</span></div><div class="format">int</div><div class="description">Unit id</div></div></div></div></div><div class="tab response hidden"><div class="param-block"><pre>{
    &#34;data&#34;: {
        &#34;status&#34;: &#34;ok&#34;
    }
}</pre></div></div><div class="tab errors hidden"><div class="param-block"><table><tbody><tr><th>Code</th><th>Description</th></tr><tr><td>6</td><td>Invalid <code>id</code> parameter</td></tr><tr><td>7</td><td>Invalid <code>unit_id</code> parameter</td></tr><tr><td>8</td><td>Endpoint not found</td></tr><tr><td>12</td><td>Api key does not have access to all units. All vehicles api key access required</td></tr></tbody></table></div></div></div><div id="method-data_forward-Delete-endpoint" class="api-method"><h2>Delete endpoint</h2><div class="call-url"><code>POST</code> <span class="domain">https://mapon.com/api/v1/</span><span class="uri">data_forward/delete.json</span></div><ul class="nav nav-tabs"><li class="active"><a href="javascript:" data-target="description">Description</a></li><li><a href="javascript:" data-target="parameters">Parameters</a></li><li><a href="javascript:" data-target="response">Response</a></li><li><a href="javascript:" data-target="errors">Error codes</a></li></ul><div class="tab description">Delete active endpoint</div><div class="tab parameters hidden"><div class="param-block"><div class="item"><div class="cols"><div class="name">key <span class="required" title="Required">*</span></div><div class="format">string</div><div class="description">API Key</div></div></div><div class="item"><div class="cols"><div class="name">id <span class="required" title="Required">*</span></div><div class="format">int</div><div class="description">Endpoint ID</div></div></div></div></div><div class="tab response hidden"><div class="param-block"><pre>{
    &#34;data&#34;: {
        &#34;status&#34;: &#34;ok&#34;
    }
}</pre></div></div><div class="tab errors hidden"><div class="param-block"><table><tbody><tr><th>Code</th><th>Description</th></tr><tr><td>6</td><td>Invalid <code>id</code> parameter</td></tr><tr><td>8</td><td>Endpoint not found</td></tr><tr><td>12</td><td>Api key does not have access to all units. All vehicles api key access required</td></tr></tbody></table></div></div></div><div id="method-data_forward-Purge-endpoint-queue" class="api-method"><h2>Purge endpoint queue</h2><div class="call-url"><code>POST</code> <span class="domain">https://mapon.com/api/v1/</span><span class="uri">data_forward/purge.json</span></div><ul class="nav nav-tabs"><li class="active"><a href="javascript:" data-target="description">Description</a></li><li><a href="javascript:" data-target="parameters">Parameters</a></li><li><a href="javascript:" data-target="response">Response</a></li><li><a href="javascript:" data-target="errors">Error codes</a></li></ul><div class="tab description">Delete all active messages from queue</div><div class="tab parameters hidden"><div class="param-block"><div class="item"><div class="cols"><div class="name">key <span class="required" title="Required">*</span></div><div class="format">string</div><div class="description">API Key</div></div></div><div class="item"><div class="cols"><div class="name">id <span class="required" title="Required">*</span></div><div class="format">int</div><div class="description">Endpoint ID</div></div></div></div></div><div class="tab response hidden"><div class="param-block"><pre>{
    &#34;data&#34;: {
        &#34;status&#34;: &#34;ok&#34;
    }
}</pre></div></div><div class="tab errors hidden"><div class="param-block"><table><tbody><tr><th>Code</th><th>Description</th></tr><tr><td>6</td><td>Invalid <code>id</code> parameter</td></tr><tr><td>8</td><td>Endpoint not found</td></tr><tr><td>12</td><td>Api key does not have access to all units. All vehicles api key access required</td></tr></tbody></table></div></div></div><div id="method-data_forward-List-endpoint-data-packs" class="api-method"><h2>List endpoint data packs</h2><div class="call-url"><code>GET</code> <span class="domain">https://mapon.com/api/v1/</span><span class="uri">data_forward/list_packs.json</span></div><ul class="nav nav-tabs"><li class="active"><a href="javascript:" data-target="description">Description</a></li><li><a href="javascript:" data-target="parameters">Parameters</a></li><li><a href="javascript:" data-target="response">Response</a></li><li><a href="javascript:" data-target="errors">Error codes</a></li></ul><div class="tab description">
                        <p>List endpoint all available data packs</p> 
                        <p>Extended information about data packs can be found <a href="https://mapon.com/api/v1/../../api/push" target="_blank">here</a>.</p></div><div class="tab parameters hidden"><div class="param-block"><div class="item"><div class="cols"><div class="name">key <span class="required" title="Required">*</span></div><div class="format">string</div><div class="description">API Key</div></div></div></div></div><div class="tab response hidden"><div class="param-block"><pre>{
    &#34;data&#34;: {
        &#34;packs&#34;: [
            {
                &#34;id&#34;: 1,
                &#34;object_type&#34;: &#34;car&#34;,
                &#34;title&#34;: &#34;Position&#34;,
                &#34;description&#34;: &#34;Includes: GPS position, speed, direction, time&#34;
            }
        ]
    }
}</pre></div></div><div class="tab errors hidden"><div class="param-block"><table><tbody><tr><th>Code</th><th>Description</th></tr><tr><td>12</td><td>Api key does not have access to all units. All vehicles api key access required</td></tr></tbody></table></div></div></div></div>